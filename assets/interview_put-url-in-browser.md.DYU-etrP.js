import{_ as a,c as n,o as e,b2 as s}from"./chunks/framework.BRCYMVIo.js";const b=JSON.parse('{"title":"当你在浏览器中输入网址后发生了什么？","description":"面试题，当你在浏览器中输入网址后发生了什么，越详细越好。","frontmatter":{"title":"当你在浏览器中输入网址后发生了什么？","head":[["meta",{"name":"description","content":"面试题，当你在浏览器中输入网址后发生了什么，越详细越好。"}],["meta",{"name":"keywords","content":"dns,ip,domain"}]],"layout":"doc"},"headers":[],"relativePath":"interview/put-url-in-browser.md","filePath":"interview/put-url-in-browser.md","lastUpdated":1708055483000}'),t={name:"interview/put-url-in-browser.md"},p=s(`<h1 id="当你在浏览器中输入网址后发生了什么" tabindex="-1">当你在浏览器中输入网址后发生了什么? <a class="header-anchor" href="#当你在浏览器中输入网址后发生了什么" aria-label="Permalink to &quot;当你在浏览器中输入网址后发生了什么?&quot;">​</a></h1><p>这是一个高频的前端面试题，这个问题可以考察面试者对互联网基本原理的了解，包括域名解析、HTTP请求、服务器响应等方面的知识。</p><img src="https://segmentfault.com/img/bVdbrnU?spec=cover" referrerpolicy="no-referrer" loading="lazy" alt="size" style=""><h2 id="域名解析-ip寻址" tabindex="-1">域名解析-IP寻址 <a class="header-anchor" href="#域名解析-ip寻址" aria-label="Permalink to &quot;域名解析-IP寻址&quot;">​</a></h2><p>浏览器会向DNS服务器发送请求，将域名解析为对应的IP地址。</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>什么是 DNS？</p><p>域名系统 (Domain Name System) 是互联网的一项服务。它作为将域名和IP地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。DNS使用TCP和UDP端口53。</p></div><p>这个过程会从下面的缓存中查询DNS记录：</p><ul><li>浏览器缓存（浏览器缓存一段时间的DNS记录）</li><li>系统缓存</li><li>路由器缓存</li><li>ISP DNS 缓存</li><li>ISP 递归查询</li></ul><h2 id="浏览器向目标服务器发送http请求" tabindex="-1">浏览器向目标服务器发送HTTP请求 <a class="header-anchor" href="#浏览器向目标服务器发送http请求" aria-label="Permalink to &quot;浏览器向目标服务器发送HTTP请求&quot;">​</a></h2><p>浏览器会向目标服务器发送HTTP请求，请求特定的资源，如HTML文件、图片、CSS文件等。</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>GET http://facebook.com/ HTTP/1.1</span></span>
<span class="line"><span>Accept: application/x-ms-application, image/jpeg, application/xaml+xml, [...]</span></span>
<span class="line"><span>User-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; WOW64; [...]</span></span>
<span class="line"><span>Accept-Encoding: gzip, deflate</span></span>
<span class="line"><span>Connection: Keep-Alive</span></span>
<span class="line"><span>Host: facebook.com</span></span>
<span class="line"><span>Cookie: datr=1265876274-[...]; locale=en_US; lsd=WW[...]; c_user=2101[...]</span></span></code></pre></div><p>例如上面发送的HTTP请求使用的GET方法，包含了UA信息，Connection请求头告诉服务器保持TCP连接打开，方便后续使用，还携带了Cookie。</p><h2 id="目标服务器响应" tabindex="-1">目标服务器响应 <a class="header-anchor" href="#目标服务器响应" aria-label="Permalink to &quot;目标服务器响应&quot;">​</a></h2><p>服务器接收到请求后会处理并返回相应的资源，包括HTTP响应头和响应体。</p><p>这里涉及到常见的Web服务器：IIS or Apache，Nginx。这些服务器软件会决定把哪些请求交给某些特定的服务处理（request handler）- 可能是由ASP.NET，PHP，Ruby，Golang，Node.js这些开发语言编写的服务端程序。</p><p>上面的服务读取http请求携带的参数，来获取或者更新存储在服务器上的数据。</p><h2 id="浏览器接收资源渲染页面" tabindex="-1">浏览器接收资源渲染页面 <a class="header-anchor" href="#浏览器接收资源渲染页面" aria-label="Permalink to &quot;浏览器接收资源渲染页面&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>HTTP/1.1 200 OK</span></span>
<span class="line"><span>Cache-Control: private, no-store, no-cache, must-revalidate, post-check=0,</span></span>
<span class="line"><span>    pre-check=0</span></span>
<span class="line"><span>Expires: Sat, 01 Jan 2000 00:00:00 GMT</span></span>
<span class="line"><span>P3P: CP=&quot;DSP LAW&quot;</span></span>
<span class="line"><span>Pragma: no-cache</span></span>
<span class="line"><span>Content-Encoding: gzip</span></span>
<span class="line"><span>Content-Type: text/html; charset=utf-8</span></span>
<span class="line"><span>X-Cnection: close</span></span>
<span class="line"><span>Transfer-Encoding: chunked</span></span>
<span class="line"><span>Date: Fri, 12 Feb 2010 09:05:55 GMT</span></span></code></pre></div><p>响应头Content-Type指示返回的文件类型为html，浏览器接收到服务器返回的数据后会解析并渲染页面，展示给用户。</p><h2 id="其他" tabindex="-1">其他 <a class="header-anchor" href="#其他" aria-label="Permalink to &quot;其他&quot;">​</a></h2><p>在页面加载过程中可能会涉及到重定向、缓存、Cookie等其他操作。</p><h2 id="参考链接" tabindex="-1">参考链接 <a class="header-anchor" href="#参考链接" aria-label="Permalink to &quot;参考链接&quot;">​</a></h2><ul><li><a href="https://www.cloudflare-cn.com/learning/dns/what-is-dns/" target="_blank" rel="noreferrer">https://www.cloudflare-cn.com/learning/dns/what-is-dns/</a></li></ul>`,23),i=[p];function l(o,c,r,d,h,u){return e(),n("div",null,i)}const P=a(t,[["render",l]]);export{b as __pageData,P as default};
