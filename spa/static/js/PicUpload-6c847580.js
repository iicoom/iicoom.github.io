import{d as C,r as p,C as n,z as f,D as P,f as a,B as o,E as i,L as N,v as s,aK as z,Q as E,A as S,as as U}from"./element-plus-b1d7f0ee.js";import{i as V,_ as A}from"./index-8b747613.js";const I={key:0,class:"pic-upload-wrapper"},T={class:"actions"},D=C({__name:"PicUpload",props:{sign:String},emits:["result"],setup(m,{expose:v,emit:g}){const k={Authorization:"Bearer "+localStorage.getItem("token")};v({init:y});const r=m,u=g,e=p(""),d=p();function h(){d.value.$el.getElementsByTagName("img")[0].click()}function _(){e.value="",u("result",e.value,r.sign)}function x(t,l){t&&t.url&&(e.value=t.url,u("result",e.value,r.sign))}function y(t){e.value=t}return(t,l)=>{const B=n("el-image"),c=n("el-icon"),w=n("el-upload");return e.value?(f(),P("div",I,[a(B,{class:"pic-upload-image",src:e.value,"preview-src-list":[e.value],fit:"cover",ref_key:"pic",ref:d},{default:o(()=>l[0]||(l[0]=[i("div",{slot:"placeholder",class:"image-slot"},[N(" 加载中 "),i("span",{class:"dot"},"...")],-1)])),_:1},8,["src","preview-src-list"]),i("span",T,[a(c,{onClick:h},{default:o(()=>[a(s(z))]),_:1}),a(c,{onClick:_},{default:o(()=>[a(s(E))]),_:1})])])):(f(),S(w,{key:1,action:s(V).upload_url,"list-type":"picture-card",accept:"image/*","show-file-list":!1,"on-remove":_,headers:k,"on-success":x},{default:o(()=>[a(c,null,{default:o(()=>[a(s(U))]),_:1})]),_:1},8,["action"]))}}});const L=A(D,[["__scopeId","data-v-dc18e0d3"]]);export{L as P};
