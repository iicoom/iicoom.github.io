import{r as O,o as A,q as P,w,f as s,d as N,a as H,aK as R,ah as _,k as $,g as j}from"./element-plus-40d2da59.js";import{A as U,x as V,y as q,J as K,c as z,p as W,P as F,i as B,n as y,O as J,d as I,I as M,L as X,S as Z,b as G,e as x,r as Q,V as Y,t as p,W as ee,N as D,X as te,w as ne}from"./index-a22f7fa8.js";const ae=(e,n)=>{const t=O(),a=()=>{t.value=K(e).height};return A(()=>{if(P(a),n)for(let o=1;o<=3;o++)setTimeout(a,100*o)}),U(()=>P(a)),w([V,q],a),t};function oe(e,n){const t=ae(e,!0);return a=>s("div",{class:n("placeholder"),style:{height:t.value?`${t.value}px`:void 0}},[a()])}let k=0;function se(e){e?(k||document.body.classList.add("van-toast--unclickable"),k++):k&&(k--,k||document.body.classList.remove("van-toast--unclickable"))}const[ie,m]=z("toast"),le=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],ce={icon:String,show:Boolean,type:B("text"),overlay:Boolean,message:y,iconSize:y,duration:J(2e3),position:B("middle"),teleport:[String,Object],wordBreak:String,className:I,iconPrefix:String,transition:B("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:I,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:y};var re=N({name:ie,props:ce,emits:["update:show"],setup(e,{emit:n,slots:t}){let a,o=!1;const d=()=>{const i=e.show&&e.forbidClick;o!==i&&(o=i,se(o))},u=i=>n("update:show",i),v=()=>{e.closeOnClick&&u(!1)},g=()=>clearTimeout(a),f=()=>{const{icon:i,type:l,iconSize:b,iconPrefix:C,loadingType:T}=e;if(i||l==="success"||l==="fail")return s(M,{name:i||l,size:b,class:m("icon"),classPrefix:C},null);if(l==="loading")return s(X,{class:m("loading"),size:b,type:T},null)},h=()=>{const{type:i,message:l}=e;if(t.message)return s("div",{class:m("text")},[t.message()]);if(Z(l)&&l!=="")return i==="html"?s("div",{key:0,class:m("text"),innerHTML:String(l)},null):s("div",{class:m("text")},[l])};return w(()=>[e.show,e.forbidClick],d),w(()=>[e.show,e.type,e.message,e.duration],()=>{g(),e.show&&e.duration>0&&(a=setTimeout(()=>{u(!1)},e.duration))}),A(d),H(d),()=>s(F,R({class:[m([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:v,onClosed:g,"onUpdate:show":u},W(e,le)),{default:()=>[f(),h()]})}});function de(){const e=$({show:!1}),n=o=>{e.show=o},t=o=>{x(e,o,{transitionAppear:!0}),n(!0)},a=()=>n(!1);return G({open:t,close:a,toggle:n}),{open:t,close:a,state:e,toggle:n}}function ue(e){const n=_(e),t=document.createElement("div");return document.body.appendChild(t),{instance:n.mount(t),unmount(){n.unmount(),document.body.removeChild(t)}}}const fe={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let r=[],he=!1,L=x({},fe);const ge=new Map;function E(e){return Y(e)?e:{message:e}}function me(){const{instance:e,unmount:n}=ue({setup(){const t=O(""),{open:a,state:o,close:d,toggle:u}=de(),v=()=>{},g=()=>s(re,R(o,{onClosed:v,"onUpdate:show":u}),null);return w(t,f=>{o.message=f}),j().render=g,{open:a,close:d,message:t}}});return e}function ve(){if(!r.length||he){const e=me();r.push(e)}return r[r.length-1]}function ke(e={}){if(!Q)return{};const n=ve(),t=E(e);return n.open(x({},L,ge.get(t.type||L.type),t)),n}const be=e=>n=>ke(x({type:e},E(n))),Be=be("loading"),Oe=e=>{r.length&&(e?(r.forEach(n=>{n.close()}),r=[]):r[0].close())},[ye,c]=z("nav-bar"),we={title:String,fixed:Boolean,zIndex:y,border:p,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:p};var xe=N({name:ye,props:we,emits:["clickLeft","clickRight"],setup(e,{emit:n,slots:t}){const a=O(),o=oe(a,c),d=h=>{e.leftDisabled||n("clickLeft",h)},u=h=>{e.rightDisabled||n("clickRight",h)},v=()=>t.left?t.left():[e.leftArrow&&s(M,{class:c("arrow"),name:"arrow-left"},null),e.leftText&&s("span",{class:c("text")},[e.leftText])],g=()=>t.right?t.right():s("span",{class:c("text")},[e.rightText]),f=()=>{const{title:h,fixed:i,border:l,zIndex:b}=e,C=ee(b),T=e.leftArrow||e.leftText||t.left,S=e.rightText||t.right;return s("div",{ref:a,style:C,class:[c({fixed:i}),{[te]:l,"van-safe-area-top":e.safeAreaInsetTop}]},[s("div",{class:c("content")},[T&&s("div",{class:[c("left",{disabled:e.leftDisabled}),e.clickable&&!e.leftDisabled?D:""],onClick:d},[v()]),s("div",{class:[c("title"),"van-ellipsis"]},[t.title?t.title():h]),S&&s("div",{class:[c("right",{disabled:e.rightDisabled}),e.clickable&&!e.rightDisabled?D:""],onClick:u},[g()])])])};return()=>e.fixed&&e.placeholder?o(f):f()}});const Se=ne(xe);export{Se as N,de as a,Be as b,Oe as c,re as d,ue as m,ke as s,oe as u};
