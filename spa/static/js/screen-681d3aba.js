import{d as z,r as k,z as r,D as x,f as e,B as t,E as w,C as b,v as _,aj as te,J as B,S as Y,ak as ne,a5 as ae,o as J,a as Z,k as oe,al as se,X as le,A as O,W as ie,F as P,G as W}from"./element-plus-b1d7f0ee.js";import{a as re,_ as N,b as ce,G as H,m as F,c as y,s as X,p as G,w as K,d as $,e as D,l as T}from"./index-a31efbef.js";import{i as ue,r as de}from"./echarts-71ab4440.js";const _e={class:"ds-title"},fe={key:0,class:"icon iconfont"},pe={key:1,class:"icon iconfont"},he=z({__name:"DataScreenTitle",setup(g){const f=re(),o=()=>{f.push({name:"Home"})},i=k(!1),c=()=>{document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),i.value=!1):(document.documentElement.requestFullscreen(),i.value=!0)};return(C,S)=>{const m=b("el-icon"),s=b("el-button");return r(),x("div",_e,[e(s,{type:"primary",circle:"",color:"rgba(0,0,0,0.1)",onClick:o,style:{transform:"translate(-70px, 0px) scale(0.5)"},class:"hidden-md-and-down"},{icon:t(()=>[e(m,{color:"#395dfe"},{default:t(()=>[e(_(te))]),_:1})]),_:1}),S[0]||(S[0]=w("h1",{class:"title"},"VAT 数据大屏",-1)),e(s,{type:"primary",circle:"",color:"rgba(0,0,0,0.1)",onClick:c,style:{transform:"translate(70px, 0px) scale(0.5)"},class:"hidden-md-and-down"},{icon:t(()=>[i.value?(r(),x("span",fe,"")):(r(),x("span",pe,""))]),_:1})])}}});const ge=N(he,[["__scopeId","data-v-84d83225"]]),me={key:0,class:"title"},ve=z({__name:"DataScreenCard",props:{height:{type:String,default:"100%"},title:{type:String,default:""}},setup(g){return(f,o)=>(r(),x("div",{class:"data-screen-card",style:ae({height:g.height})},[g.title?(r(),x("div",me,B(g.title),1)):Y("",!0),ne(f.$slots,"default",{},void 0,!0)],4))}});const l=N(ve,[["__scopeId","data-v-a4cef66e"]]),ye={class:"growing-wrapper"},xe={class:"item-icon hidden-md-and-down"},ke={class:"icon iconfont"},be={class:"right"},Me=z({__name:"GrowingItem",props:{title:{type:String,default:"Total Transactions"},initNumber:{type:Number,default:4500},icon:{type:String,default:"&#xea94;"}},setup(g){const f=g,o=k(0),i=ce(o,{duration:1500});o.value=f.initNumber;let c=null;return J(()=>{c=setInterval(()=>{o.value+=H.getRandomInt(10,50)},5e3)}),Z(()=>{c&&(clearInterval(c),c=null)}),(C,S)=>{const m=b("el-statistic");return r(),x("div",ye,[w("div",xe,[w("span",ke,B(g.icon),1)]),w("div",be,[e(m,{title:g.title,value:_(i)},null,8,["title","value"])])])}}});const R=N(Me,[["__scopeId","data-v-41f6dc2f"]]),Re={"element-loading-background":"rgba(0,0,0,.5)"},Q=z({__name:"Map",setup(g){const f=k();let o=null;const i=oe({prevStack:[],currentRegion:{},loading:!1}),c=s=>{i.loading=!0,fetch(`https://geo.datav.aliyun.com/areas_v3/bound/geojson?code=${s}_full`).then(a=>a.json()).then(a=>{if(s===1e5){const p=a.features.find(I=>I.properties.adcode===46e4);p.geometry.coordinates=p.geometry.coordinates.slice(0,1);const M=a.features.find(I=>I.properties.adcode==="100000_JD");M.geometry.coordinates=[],m("china",a)}else m("",a);i.loading=!1}).catch(a=>console.error("Error:",a))},C=()=>{o=ue(f.value),window.addEventListener("resize",()=>{o&&o.resize()}),o.on("click",function(s){if(s.data){const{adcode:a,name:p,level:M,parent:I}=s.data;if(M==="district")return;i.prevStack.push(I.adcode),i.loading=!0,c(a)}})},S=()=>{c(i.prevStack.pop())},m=(s,a)=>{de(s,a),F.geo.map=s,F.series[0].map=s,F.series[0].data=a.features.map(p=>(p.properties.count=Math.round(Math.random()*1e4),p.properties)),o==null||o.setOption(F)};return J(()=>{C(),c(1e5)}),(s,a)=>{const p=b("el-button"),M=se("loading");return le((r(),x("div",Re,[i.prevStack.length?(r(),O(p,{key:0,type:"primary",circle:"",color:"rgba(0,0,0,0.1)",onClick:S,style:{transform:"scale(1.5)",position:"absolute","z-index":"10"}},{icon:t(()=>a[0]||(a[0]=[w("span",{class:"icon iconfont",style:{color:"#395dfe"}},"",-1)])),_:1})):Y("",!0),w("div",{ref_key:"canvas",ref:f,style:{width:"100%",height:"60vh"}},null,512)])),[[M,i.loading]])}}}),we={class:"time"},Se={class:"time"},Ie=z({__name:"screen",setup(g){const f=k();let o=null;const i=()=>{const u=[];for(let v=0;v<5;++v)u.push(Math.round(Math.random()*200));function n(){for(var v=0;v<u.length;++v)Math.random()>.9?u[v]+=Math.round(Math.random()*2e3):u[v]+=Math.round(Math.random()*200);f.value.setOption({series:[{type:"bar",data:u}]})}setTimeout(function(){n()},0),o=setInterval(function(){n()},3e3)},c=k();let C=null;const S=()=>{function u(){for(let n=0;n<5;++n)G.series[0].data[n].value=Math.round(Math.random()*200);c.value.setOption({series:[{data:G.series[0].data}]})}C=setInterval(function(){u()},4800)},m=k();let s=null;const a=()=>{function u(){for(let n=0;n<10;++n)$.series[0].data[n]=[Math.round(Math.random()*10),Math.round(Math.random()*10)],$.series[1].data[n]=[Math.round(Math.random()*20),Math.round(Math.random()*10)];m.value.setOption({series:$.series})}s=setInterval(function(){u()},4500)},p=k();let M=null;const I=()=>{function u(){for(let n=0;n<7;++n)D.series[0].data[n]=Math.round(Math.random()*1e4),D.series[1].data[n]=Math.round(Math.random()*100);p.value.setOption({series:D.series})}M=setInterval(function(){u()},5e3)},L=k();let A=null;const ee=()=>{function u(){for(let n=0;n<7;++n)T.series[0].data[n]=Math.round(Math.random()*1e3);L.value.setOption({series:T.series})}A=setInterval(function(){u()},5500)},V=k("pc"),j=()=>{V.value=H.getPlatform()};return J(()=>{i(),S(),a(),I(),ee(),j(),window.addEventListener("resize",j),H.report("DataScreen "+document.title)}),Z(()=>{clearInterval(o),clearInterval(C),clearInterval(s),clearInterval(M),clearInterval(A),window.removeEventListener("resize",j)}),(u,n)=>{const v=b("el-result"),U=b("el-carousel-item"),q=b("el-carousel"),d=b("el-col"),E=b("el-row");return r(),x("div",{class:ie(["data-screen-container",V.value==="pc"?"pc":""])},[e(ge),V.value==="pc"?(r(),O(E,{key:0,gutter:20,style:{height:"calc(100vh - 120px)"}},{default:t(()=>[e(d,{span:6,style:{height:"100%"},class:"col-flex"},{default:t(()=>[e(l,{height:"30%",title:"业务动态排序"},{default:t(()=>[e(y,{options:_(X),ref_key:"gc1Ref",ref:f},null,8,["options"])]),_:1}),e(l,{height:"30%",title:"人群画像"},{default:t(()=>[e(y,{options:_(G),ref_key:"gc2Ref",ref:c},null,8,["options"])]),_:1}),e(l,{height:"40%",title:"事件预警"},{default:t(()=>[e(q,{style:{flex:"1",margin:"10px"},direction:"vertical",type:"card",autoplay:!0},{default:t(()=>[(r(!0),x(P,null,W(_(K),h=>(r(),O(U,{key:h},{default:t(()=>[e(v,{icon:h.type,title:h.title,"sub-title":h.content},{extra:t(()=>[w("span",we,B(h.time),1)]),_:2},1032,["icon","title","sub-title"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(d,{span:12,style:{height:"100%"},class:"col-flex"},{default:t(()=>[e(l,{height:"80%"},{default:t(()=>[e(Q)]),_:1}),e(l,{height:"20%"},{default:t(()=>[e(E,{gutter:20,style:{height:"100%","align-items":"center",padding:"0 30px"}},{default:t(()=>[e(d,{span:6},{default:t(()=>[e(R,{title:"累计访问量","init-number":13450,icon:""})]),_:1}),e(d,{span:6},{default:t(()=>[e(R,{title:"累计用户数",icon:""})]),_:1}),e(d,{span:6},{default:t(()=>[e(R,{title:"累计连接数","init-number":2780,icon:""})]),_:1}),e(d,{span:6},{default:t(()=>[e(R,{title:"累计评估量","init-number":3804,icon:""})]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{span:6,style:{height:"100%"},class:"col-flex"},{default:t(()=>[e(l,{height:"30%",title:"攻防趋势"},{default:t(()=>[e(y,{options:_($),ref_key:"gc3Ref",ref:m},null,8,["options"])]),_:1}),e(l,{height:"30%",title:"销售情况"},{default:t(()=>[e(y,{options:_(D),ref_key:"gc4Ref",ref:p},null,8,["options"])]),_:1}),e(l,{height:"40%",title:"曝光度"},{default:t(()=>[e(y,{options:_(T),ref_key:"gc5Ref",ref:L},null,8,["options"])]),_:1})]),_:1})]),_:1})):(r(),O(E,{key:1,gutter:20},{default:t(()=>[e(d,{span:24,class:"col-flex v-gap"},{default:t(()=>[e(l,{height:"30%",title:"业务动态排序"},{default:t(()=>[e(y,{options:_(X),ref_key:"gc1Ref",ref:f},null,8,["options"])]),_:1}),e(l,{height:"30%",title:"人群画像"},{default:t(()=>[e(y,{options:_(G),ref_key:"gc2Ref",ref:c},null,8,["options"])]),_:1}),e(l,{height:"40%",title:"事件预警"},{default:t(()=>[e(q,{style:{flex:"1",margin:"10px"},direction:"vertical",type:"card",autoplay:!0},{default:t(()=>[(r(!0),x(P,null,W(_(K),h=>(r(),O(U,{key:h},{default:t(()=>[e(v,{icon:h.type,title:h.title,"sub-title":h.content},{extra:t(()=>[w("span",Se,B(h.time),1)]),_:2},1032,["icon","title","sub-title"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),e(d,{span:24,class:"col-flex v-gap"},{default:t(()=>[e(l,{height:"80%"},{default:t(()=>[e(Q)]),_:1}),e(l,{height:"20%"},{default:t(()=>[e(E,{gutter:20,style:{height:"100%","align-items":"center",padding:"0 30px"}},{default:t(()=>[e(d,{span:12},{default:t(()=>[e(R,{title:"累计访问量","init-number":13450,icon:""})]),_:1}),e(d,{span:12},{default:t(()=>[e(R,{title:"累计用户数",icon:""})]),_:1}),e(d,{span:12},{default:t(()=>[e(R,{title:"累计连接数","init-number":2780,icon:""})]),_:1}),e(d,{span:12},{default:t(()=>[e(R,{title:"累计评估量","init-number":3804,icon:""})]),_:1})]),_:1})]),_:1})]),_:1}),e(d,{span:24,class:"col-flex v-gap"},{default:t(()=>[e(l,{height:"30%",title:"攻防趋势"},{default:t(()=>[e(y,{options:_($),ref_key:"gc3Ref",ref:m},null,8,["options"])]),_:1}),e(l,{height:"30%",title:"销售情况"},{default:t(()=>[e(y,{options:_(D),ref_key:"gc4Ref",ref:p},null,8,["options"])]),_:1}),e(l,{height:"40%",title:"曝光度"},{default:t(()=>[e(y,{options:_(T),ref_key:"gc5Ref",ref:L},null,8,["options"])]),_:1})]),_:1})]),_:1}))],2)}}});const Oe=N(Ie,[["__scopeId","data-v-a08b4b48"]]);export{Oe as default};
