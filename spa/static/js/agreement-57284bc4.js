import{a as Z}from"./index-8b747613.js";import{u as ee,m as te,a as ne,s as oe,N as ae}from"./index-04853d30.js";import"./index-f56f2774.js";import{c as O,u as le,t as _,w as A,e as x,a as j,b as q,d as z,n as M,m as ce,I as se,f as E,g as ie,p as W,h as re,i as ue,j as de,k as G,P as me,l as fe,o as be,B as ge,q as he,r as ve,L as Be}from"./index-59518ccb.js";import{I as ke}from"./index-d9652656.js";import{d as S,r as N,f as l,c as w,w as Ce,aL as F,k as ye,at as we,z as xe,D as Pe,v as P,B as $,E as T,L as K}from"./element-plus-b1d7f0ee.js";import{r as _e,u as Se,B as I}from"./index-73a1cd12.js";import"./echarts-71ab4440.js";const[Y,H]=O("action-bar"),X=Symbol(Y),Te={placeholder:Boolean,safeAreaInsetBottom:_};var Oe=S({name:Y,props:Te,setup(e,{slots:i}){const n=N(),c=ee(n,H),{linkChildren:s}=le(X);s();const r=()=>{var m;return l("div",{ref:n,class:[H(),{"van-safe-area-bottom":e.safeAreaInsetBottom}]},[(m=i.default)==null?void 0:m.call(i)])};return()=>e.placeholder?c(r):r()}});const pe=A(Oe),[De,Ve]=O("action-bar-button"),Ee=x({},_e,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var Ie=S({name:De,props:Ee,setup(e,{slots:i}){const n=Se(),{parent:c,index:s}=j(X),r=w(()=>{if(c){const t=c.children[s.value-1];return!(t&&"isButton"in t)}}),m=w(()=>{if(c){const t=c.children[s.value+1];return!(t&&"isButton"in t)}});return q({isButton:!0}),()=>{const{type:t,icon:u,text:h,color:B,loading:d,disabled:a}=e;return l(I,{class:Ve([t,{last:m.value,first:r.value}]),size:"large",type:t,icon:u,color:B,loading:d,disabled:a,onClick:n},{default:()=>[i.default?i.default():h]})}}});const U=A(Ie),[Ae,st]=O("checkbox-group"),Ne=Symbol(Ae),J={name:z,disabled:Boolean,iconSize:M,modelValue:z,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var Re=S({props:x({},J,{bem:ce(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:_,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:i,slots:n}){const c=N(),s=a=>{if(e.parent&&e.bindGroup)return e.parent.props[a]},r=w(()=>{if(e.parent&&e.bindGroup){const a=s("disabled")||e.disabled;if(e.role==="checkbox"){const v=s("modelValue").length,b=s("max"),k=b&&v>=+b;return a||k&&!e.checked}return a}return e.disabled}),m=w(()=>s("direction")),t=w(()=>{const a=e.checkedColor||s("checkedColor");if(a&&e.checked&&!r.value)return{borderColor:a,backgroundColor:a}}),u=w(()=>e.shape||s("shape")||"round"),h=a=>{const{target:v}=a,b=c.value,k=b===v||(b==null?void 0:b.contains(v));!r.value&&(k||!e.labelDisabled)&&i("toggle"),i("click",a)},B=()=>{var a,v;const{bem:b,checked:k,indeterminate:p}=e,o=e.iconSize||s("iconSize");return l("div",{ref:c,class:b("icon",[u.value,{disabled:r.value,checked:k,indeterminate:p}]),style:u.value!=="dot"?{fontSize:E(o)}:{width:E(o),height:E(o),borderColor:(a=t.value)==null?void 0:a.borderColor}},[n.icon?n.icon({checked:k,disabled:r.value}):u.value!=="dot"?l(se,{name:p?"minus":"success",style:t.value},null):l("div",{class:b("icon--dot__icon"),style:{backgroundColor:(v=t.value)==null?void 0:v.backgroundColor}},null)])},d=()=>{const{checked:a}=e;if(n.default)return l("span",{class:e.bem("label",[e.labelPosition,{disabled:r.value}])},[n.default({checked:a,disabled:r.value})])};return()=>{const a=e.labelPosition==="left"?[d(),B()]:[B(),d()];return l("div",{role:e.role,class:e.bem([{disabled:r.value,"label-disabled":e.labelDisabled},m.value]),tabindex:r.value?void 0:0,"aria-checked":e.checked,onClick:h},[a])}}});const[$e,ze]=O("checkbox"),Le=x({},J,{shape:String,bindGroup:_,indeterminate:{type:Boolean,default:null}});var Fe=S({name:$e,props:Le,emits:["change","update:modelValue"],setup(e,{emit:i,slots:n}){const{parent:c}=j(Ne),s=t=>{const{name:u}=e,{max:h,modelValue:B}=c.props,d=B.slice();if(t)!(h&&d.length>=+h)&&!d.includes(u)&&(d.push(u),e.bindGroup&&c.updateValue(d));else{const a=d.indexOf(u);a!==-1&&(d.splice(a,1),e.bindGroup&&c.updateValue(d))}},r=w(()=>c&&e.bindGroup?c.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),m=(t=!r.value)=>{c&&e.bindGroup?s(t):i("update:modelValue",t),e.indeterminate!==null&&i("change",t)};return Ce(()=>e.modelValue,t=>{e.indeterminate===null&&i("change",t)}),q({toggle:m,props:e,checked:r}),ie(()=>e.modelValue),()=>l(Re,F({bem:ze,role:"checkbox",parent:c,checked:r.value,onToggle:m},e),W(n,["default","icon"]))}});const Ge=A(Fe),[Ke,g,V]=O("dialog"),He=x({},re,{title:String,theme:String,width:M,message:[String,Function],callback:Function,allowHtml:Boolean,className:z,transition:ue("van-dialog-bounce"),messageAlign:String,closeOnPopstate:_,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,cancelButtonDisabled:Boolean,confirmButtonText:String,confirmButtonColor:String,confirmButtonDisabled:Boolean,showConfirmButton:_,closeOnClickOverlay:Boolean,keyboardEnabled:_}),Ue=[...de,"transition","closeOnPopstate"];var Q=S({name:Ke,props:He,emits:["confirm","cancel","keydown","update:show"],setup(e,{emit:i,slots:n}){const c=N(),s=ye({confirm:!1,cancel:!1}),r=o=>i("update:show",o),m=o=>{var f;r(!1),(f=e.callback)==null||f.call(e,o)},t=o=>()=>{e.show&&(i(o),e.beforeClose?(s[o]=!0,fe(e.beforeClose,{args:[o],done(){m(o),s[o]=!1},canceled(){s[o]=!1}})):m(o))},u=t("cancel"),h=t("confirm"),B=we(o=>{var f,C;if(!e.keyboardEnabled||o.target!==((C=(f=c.value)==null?void 0:f.popupRef)==null?void 0:C.value))return;({Enter:e.showConfirmButton?h:G,Escape:e.showCancelButton?u:G})[o.key](),i("keydown",o)},["enter","esc"]),d=()=>{const o=n.title?n.title():e.title;if(o)return l("div",{class:g("header",{isolated:!e.message&&!n.default})},[o])},a=o=>{const{message:f,allowHtml:C,messageAlign:y}=e,D=g("message",{"has-title":o,[y]:y}),R=be(f)?f():f;return C&&typeof R=="string"?l("div",{class:D,innerHTML:R},null):l("div",{class:D},[R])},v=()=>{if(n.default)return l("div",{class:g("content")},[n.default()]);const{title:o,message:f,allowHtml:C}=e;if(f){const y=!!(o||n.title);return l("div",{key:C?1:0,class:g("content",{isolated:!y})},[a(y)])}},b=()=>l("div",{class:[he,g("footer")]},[e.showCancelButton&&l(I,{size:"large",text:e.cancelButtonText||V("cancel"),class:g("cancel"),style:{color:e.cancelButtonColor},loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&l(I,{size:"large",text:e.confirmButtonText||V("confirm"),class:[g("confirm"),{[ge]:e.showCancelButton}],style:{color:e.confirmButtonColor},loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:h},null)]),k=()=>l(pe,{class:g("footer")},{default:()=>[e.showCancelButton&&l(U,{type:"warning",text:e.cancelButtonText||V("cancel"),class:g("cancel"),color:e.cancelButtonColor,loading:s.cancel,disabled:e.cancelButtonDisabled,onClick:u},null),e.showConfirmButton&&l(U,{type:"danger",text:e.confirmButtonText||V("confirm"),class:g("confirm"),color:e.confirmButtonColor,loading:s.confirm,disabled:e.confirmButtonDisabled,onClick:h},null)]}),p=()=>n.footer?n.footer():e.theme==="round-button"?k():b();return()=>{const{width:o,title:f,theme:C,message:y,className:D}=e;return l(me,F({ref:c,role:"dialog",class:[g([C]),D],style:{width:E(o)},tabindex:0,"aria-labelledby":f||y,onKeydown:B,"onUpdate:show":r},W(e,Ue)),{default:()=>[d(),v(),p()]})}}});let L;const je={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let qe=x({},je);function Me(){({instance:L}=te({setup(){const{state:i,toggle:n}=ne();return()=>l(Q,F(i,{"onUpdate:show":n}),null)}}))}function We(e){return ve?new Promise((i,n)=>{L||Me(),L.open(x({},qe,e,{callback:c=>{(c==="confirm"?i:n)(c)}}))}):Promise.resolve(void 0)}const Ye=e=>We(x({showCancelButton:!0},e));A(Q);const Xe="/spa/static/png/face-39f8663d.png",Je={class:"face-container"},Qe={class:"btn-group"},it=S({__name:"agreement",setup(e){const i=()=>history.back(),n=N(!1),c=()=>{Ye({title:"协议内容",message:"如果解决方法是丑陋的，那就肯定还有更好的解决方法，只是还没有发现而已。"})},s=Z(),r=()=>{if(n.value)s.push({path:"face"});else{oe("您还没有同意协议");return}};return(m,t)=>(xe(),Pe("div",Je,[l(P(ae),{title:"标题","left-text":"返回","left-arrow":"",fixed:"","safe-area-inset-top":"",onClickLeft:i}),l(P(ke),{width:"9rem",height:"9rem",fit:"contain",src:P(Xe)},{loading:$(()=>[l(P(Be),{type:"spinner",size:"20"})]),_:1},8,["src"]),t[3]||(t[3]=T("div",{class:"text-group"},[T("h3",null,"身份认证"),T("p",null,"为了您的账号安全，请进行人脸认证")],-1)),T("div",Qe,[l(P(Ge),{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=u=>n.value=u),"icon-size":"16px",style:{"margin-bottom":"15px"}},{default:$(()=>[t[1]||(t[1]=K(" 我已阅读并同意")),T("span",{class:"theme-color",onClick:c},"全部协议")]),_:1},8,["modelValue"]),l(P(I),{type:"primary",block:"",onClick:r},{default:$(()=>t[2]||(t[2]=[K("开始验证")])),_:1})])]))}});export{it as default};
